
<div th:fragment="makePlans" th:remove="tag">

    <form class="form-horizontal" id="definiteDateForm" th:action="@{/dates/date}" th:object="${date}" method="POST" data-parsley-validate>

        <div class="form-group row">
            <label for="doingWhat" class="col-sm-2 col-form-label font-bold">What?
                <a class="fa fa-question-circle" title="What are we going to be doing on the date?<br>Be specific." data-toggle="tooltip" data-placement="top" data-html="true" tabindex="-1"></a>
            </label>
            <div class="col">
                <input th:if="${can_edit}" class="form-control" maxlength="35" placeholder="ex: Take a walk in the park, grab drinks" type="text" th:field="*{doingWhat}">
            </div>
        </div>
        <div class="form-group row">
            <label for="locationName" class="col-sm-2 col-form-label font-bold">Where?
                <a class="fa fa-question-circle" title="Make sure to pick a safe, public place to meet.<br>Make sure it is easy to get to for both people." data-toggle="tooltip" data-placement="top" data-html="true" tabindex="-1"></a>
            </label>
            <div class="col">
                <input th:if="${can_edit}" class="form-control" maxlength="30" placeholder="ex: Bob's Cafe" type="text" th:field="*{locationName}">
            </div>
        </div>


        <div class="form-group row">
            <label for="doingWhenDate" class="col-sm-2 col-form-label font-bold">When?</label>
            <div class="col">
                <div th:if="${can_edit}" class="input-group date" data-provide="datepicker">
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    <input type="text" th:field="*{doingWhenDate}" class="form-control">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="doingWhenTime" class="col-sm-2 col-form-label font-bold"></label>
            <div class="col">
                <div th:if="${can_edit}" class="input-group date clockpicker">
                    <span class="input-group-addon"><i class="fa fa-clock-o"></i></span>
                    <input type="text" th:field="*{doingWhenTime}" class="form-control">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="greetingMsg" class="col-sm-2 col-form-label font-bold">Greeting
                <a class="fa fa-question-circle" title="Write a brief, simple message introducing yourself and mentioning what caught your eye." data-toggle="tooltip" data-placement="top" data-html="true" tabindex="-1"></a>
            </label>
            <div class="col">
                <div th:unless="${has_active_date}" class="input-group m-b">
                    <textarea class="form-control" cols="100" rows="5" th:field="*{greetingMsg}"></textarea>
                    <span class="help-block m-b-none" id="greetingMsgChars"></span>
                </div>
            </div>
        </div>

        <div class="form-group" th:if="${has_desc}">
            <div class="col-sm-12">
                <div class="alert alert-success" th:utext="${date_desc}"></div>
            </div>
        </div>

        <div class="form-group row" th:unless="${has_active_date}">
            <div class="col-sm-3">
                <button type="submit" class="btn btn-primary" data-singleton="true" data-toggle="confirmation" id="proposePlanBtn">Propose this plan!</button>
            </div>
        </div>

        <div class="form-group row" th:if="${can_mod}">
            <div class="col-sm-12">
                <button th:if="${can_propose_change}" class="btn btn-primary btn-lg" data-singleton="true" data-toggle="confirmation" id="proposeChange">Propose a change</button>
                <button th:if="${can_accept}" class="btn btn-success btn-lg" data-singleton="true" data-toggle="confirmation" id="acceptPlan">Accept</button>
                <button th:if="${can_decline}" class="btn btn-danger pull-right" data-singleton="true" data-toggle="confirmation" id="declinePlan">Decline</button>
            </div>
        </div>
    </form>

</div>




<div th:fragment="already-occured-frag" th:remove="tag">
    <div class="alert alert-danger" id="feedbackErrorBox" style="display:none;">
        <ul>
        </ul>
    </div>

    <form class="form-horizontal" wicket:id="dateFeedbackForm">

        <h3 class="m-t-none m-b">This <strong class="text-success">WILL</strong> be shared with <span
                wicket:id="otherPersonName1"></span></h3>

        <div class="form-group">
            <label class="col-sm-4 control-label">Did <span wicket:id="otherPersonName4"></span> show up?</label>
            <div class="col-sm-6" wicket:id="participantNoShow">
                <input type="radio" wicket:id="participantNoShowYes"> Yes
                <input type="radio" wicket:id="participantNoShowNo"> No
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label">Do you want another date?</label>
            <div class="col-sm-6" wicket:id="participantWantsMore">
                <input type="radio" wicket:id="participantWantsMoreYes"> Yes
                <input type="radio" wicket:id="participantWantsMoreNo"> No
            </div>
        </div>

        <div class="hr-line-dashed"></div>

        <h3 class="m-t-none m-b">This <strong class="text-danger">WILL NOT</strong> be shared with <span
                wicket:id="otherPersonName2"></span></h3>

        <div class="form-group">
            <label class="col-sm-4 control-label">Is <span wicket:id="otherPersonName3"></span> safe to
                date?</label>
            <div class="col-sm-6" wicket:id="participantWasSafe">
                <input type="radio" wicket:id="participantWasSafeYes"> Yes
                <input type="radio" wicket:id="participantWasSafeNo"> No
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-4 control-label">How was it? <a class="fa fa-question-circle tooltip-icon-test"
                                                                 data-container="#tipsContainer"
                                                                 data-content="Tell us your overall experience setting up the date, the date itself, and ways to improve the process" data-toggle="popover"
                                                                 data-trigger="focus" role="button"
                                                                 tabindex="0"
                                                                 title="Feedback"></a></label>
            <div class="col-sm-6"><textarea class="form-control" wicket:id="participantFeedback"></textarea></div>
        </div>


        <div class="form-group">
            <div class="col-sm-12">
                <button class="btn btn-primary btn-lg" type="submit">Submit</button>
            </div>
        </div>
    </form>
</div>



<div th:fragment="pastDates" th:remove="tag">
    <div class="ibox float-e-margins" th:if="${past_dates != null and !past_dates.isEmpty()}">
        <div class="ibox-title">
            <h5>Past Dates</h5>
        </div>
        <div class="ibox-content inspinia-timeline">
            <div class="timeline-item">
                <div class="row" th:each="pd : ${past_dates}">
                    <div class="col-xs-3 date">
                        <i class="fa fa-calendar"></i>
                        <span th:text="${pd.doingWhen}"></span>
                        <br/>
                        <small th:if="${pd.wantsAnotherDate}" class="text-info">[[${pd.theirName}]] wants another date</small>
                        <small th:unless="${pd.wantsAnotherDate}" class="text-danger">[[${pd.theirName}]] doesn't want another date</small>
                    </div>
                    <div class="col-xs-7 content no-top-border">
                        <address>
                            <strong th:text="${pd.doingWhat}">Meeting</strong><br>
                            <span th:text="${pd.locationName}"></span>
                        </address>
                        <p th:text="${pd.greetingMsg}"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>